import { Meta } from "@storybook/blocks";

<Meta title="Documentation/Work Process" />

## 프로세스

전체적인 개발 시나리오는 아래 이미지와 같습니다:

![work process](/stories/work-process.jpg)

## 개발

디자인 시스템의 공용 컴포넌트 개발 작업을 진행하기 위해 사용되는 워크스페이스는 다음과 같습니다:

- `packages/topinerd-react` : 공용 컴포넌트 코드 위치
- `apps/storybook` : 개별 컴포넌트의 스토리 파일, 문서 파일 위치

컴포넌트 작업 시, `package/topinerd-react` 워크스페이스의 `src` 폴더 내부에 `[component]` 명의 폴더를 다음과 같이 구성합니다:

```
├── src
│   └── [component]
│           ├── [component].tsx       // 메인 컴포넌트
│           ├── [component].css.ts    // 컴포넌트 스타일
│           ├── [component].types.ts  // 컴포넌트 타입
│           └── index.tsx             // 컴포넌트 export용 root 파일
└── ...
```

작업 후, root 경로의 index.ts 파일에서 다음과 같이 컴포넌트를 export 합니다.

```ts
export * from "./[component]"; // ex) export * from "./button";
```

컴포넌트 작업을 마무리 후 `apps/storybook` 워크스페이스의 stories 폴더 내부에 `[component].stories.ts` 파일을 생성하여 스토리 파일을 작성하여 모든 작업을 마무리합니다.

> @todo - 파일 생성과 관련된 모든 작업을 자동화 할 예정입니다.

## 빌드

프로젝트의 root 경로에서 `yarn turbo build` 명령어를 입력하면 모든 패키지의 빌드가 진행됩니다. 단, 스토리븍 static 파일 빌드는 `yarn turbo build-storybook` 명령어를 사용합니다.

따라서, 모든 프로젝트를 빌드하기 위해 프로젝트의 root 경로에서 아래의 명령어를 사용합니다.

```
yarn turbo build
yarn turbo build-storybook
```

> `packages/topinerd-react` 프로젝트를 빌드하기 위해 `tsup` 라이브러리를 사용합니다. 빌드 구성 정보를 확인하고 싶으면 해당 프로젝트의 `tsup.config.ts` 파일을 확인해주세요.

## 배포

Todo
